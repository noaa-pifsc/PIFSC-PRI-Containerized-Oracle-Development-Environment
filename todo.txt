To do:

	X update PRI CODE repo
		X implement PRI and DSC as submodules
		
	X preparation steps:
		X recursively clone the PRI CODE project
		X set the secret information in the correct place
		X set the secrets/.env file
	X deployment steps:	
		X execute the corresponding bash script
		
		
	
		
	bugs:
		_ php-shared-library appears in the modules directory
		X when running "dev stack": unsupported external secret pri_ria_db_username_secret

	X finish implementing/testing the deployment use cases:
		X local dev mounted volumes
			X implement the commands in the docker preparation/deployment script (see if we can leverage the existing code in PRI
			
			X use environment variables to set the DB credentials and API key
		
		X local dev swarm with docker secrets
			X implement the commands in the docker preparation/deployment script (see if we can leverage the existing code in PRI
			
			X use docker secrets to define the DB credentials and API key
	
	X update documentation
		X dependencies:
			X container deployment scripts
			X PRI
			X DSC

		X custom-docker-compose.yml needs to map the volumes from submodule app and for DB deployments (sync with the custom_db_app_deploy.sh and custom_container_config.sh)
		
		
	
	X create a new custom_deployment_script (by default it will just have the simple docker compose build command with the appropriate .yml file)
		X use the CDS to prompt for environment name (this will allow the automation of choosing the .yml file)
		X for docker web apps this will be modified to do any merging of docker configurations
		
		
	
	
		
		
		
		
	X document that the clone needs to be recursive and that the submodule pulls need to be recursive too	
		_ specifying stack will use secrets, specifying mount will use environment variables
		X document the parameter for the build_deploy_project.sh

	_ update CODE
		_ update DSC CODE
			_ pull upstream changes into CUD
			_ pull upstream changes into CAS
	
	
	X fork DSC CODE so the dependencies are available
		

	X Dockerfile.deploy is not successfully converting line endings with dos2unix (there was an unreadable character that was preventing a file from being converted)

	convert to submodule:
		X PRI (update the custom prep script to not clone the php shared library and for the Dockerfile to copy it from the modules directory)
			X php shared library
			X Container Deployment Scripts


_ Convert dependencies to submodules:
	X CODE
		X update documentation
		X test scenarios
		X push changes to github

		forks:
			X DSC
				X DSC
				X update documentation
				X test scenarios
				_ documentation:
					update the documentation with the CDS github link and folder paths for all submodules
					update the path to modules/CDS
				_ code updates:
					update the path to modules/CDS
			_ CAS
				X DSC
				X AAM
				X update documentation
				_ test scenarios
				_ documentation:
					update the documentation with the CDS github link and folder paths for all submodules
					update the path to modules/CDS
				_ code updates:
					update the path to modules/CDS
			X CEN_UTILS
				X centralized utilities
				X DSC
				X update documentation
				X test scenarios
				_ documentation:
					update the documentation with the CDS github link and folder paths for all submodules
					update the path to modules/CDS
				_ code updates:
					update the path to modules/CDS
			X PRI
				X PRI
				X DSC
				X update documentation
				_ test scenarios
				_ documentation:
					X update the documentation with the CDS github link and folder paths for all submodules
					X update the path to modules/CDS
				_ code updates:
					X update the path to modules/CDS
			
	X update fork diagram 
		X include PRI (non-apex apps)
		X include CUD
		
		
	_ delete the CODE repos off of GitLab (confirm they are in GitHub first)

	_ convert docker apps to implement submodules (PHP shared library and CDS)
		_ PLW
			_ implement as docker compose with CODE
		X PRI
			X implement as docker compose with CODE
		_ Staff Info App
			_ implement as docker compose with CODE
		
	_ CDS
		_ update installation instructions to recommend implementing as a submodule
		_ migrate to github
			_ update all submodule implementations:
				_ PRI
				_ CODE
				_ PRI CODE
				_ CAS CODE
				_ DSC CODE
				_ CU CODE
				_ LHP CODE
				
	
	
	X chain in a quick preparation script that renames certain files (GIM_crontab.dev.txt) or references certain files
		X implemented this as a environment variable instead to ensure images are the same between environments



git bash commands:

	# Dev:

		# stop and remove CODE containers and delete volumes
		cd /c/Users/jesse.abdul/Documents/Version\ Control/Git/PIFSC-PRI-Containerized-Oracle-Development-Environment
		
		# shutdown all containers and delete all associated volumes too
		docker compose \
		  --env-file ./docker/.env \
		  --env-file ./secrets/.env \
		  -f docker/CODE-db-deploy.yml \
		  -f docker/CODE-db-named-volume.yml \
		  -f modules/PRI/docker/docker-compose.yml \
		  -f docker/custom-docker-compose.yml \
		  down -v





		
		# build and deploy the development scenario of the CODE
		bash ./deployment_scripts/build_deploy_project.sh dev

		docker compose \
		  --env-file ./docker/.env \
		  --env-file ./secrets/.env \
		  -f docker/CODE-db-deploy.yml \
		  -f docker/CODE-db-named-volume.yml \
		  -f modules/PRI/docker/docker-compose.yml \
		  -f docker/custom-docker-compose.yml \
		  up -d --build



	# Test:

		# stop and remove CODE containers and delete volumes
		cd /c/Users/jesse.abdul/Documents/Version\ Control/Git/PIFSC-PRI-Containerized-Oracle-Development-Environment/deployment_scripts
		
		docker compose -f ../docker/docker-compose-test.yml down
		docker volume rm apex-static-vol

		# build and deploy the test scenario of the CODE
		docker-compose \
		  --project-directory . \
		  -f docker/docker-compose-test.yml \
		  -f pri_app_docker/docker-compose.yml \
		  down

troubleshooting tips: