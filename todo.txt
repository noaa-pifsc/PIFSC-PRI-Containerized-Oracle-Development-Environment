To do:

	X update PRI CODE repo
		X implement PRI and DSC as submodules
		
	_ preparation steps:
		_ recursively clone the PRI CODE project
		_ set the secret information in the correct place
		_ set the secrets/.env file
	_ deployment steps:	
		_ execute the corresponding bash script
		
		
	
		
	bugs:
		_ php-shared-library appears in the modules directory
		when running "dev stack": unsupported external secret pri_ria_db_username_secret

	_ finish implementing/testing the deployment use cases:
		X local dev mounted volumes
			X implement the commands in the docker preparation/deployment script (see if we can leverage the existing code in PRI
			
			X use environment variables to set the DB credentials and API key
		
		X local dev swarm with docker secrets
			X implement the commands in the docker preparation/deployment script (see if we can leverage the existing code in PRI
			
			X use docker secrets to define the DB credentials and API key
	
	_ update documentation
		X dependencies:
			X container deployment scripts
			X PRI
				X container deployment scripts (used from PRI submodule)
			X DSC

		X custom-docker-compose.yml needs to map the volumes from submodule app and for DB deployments (sync with the custom_db_app_deploy.sh and custom_container_config.sh)
		
		
	
	_ create a new custom_deployment_script (by default it will just have the simple docker compose build command with the appropriate .yml file)
		_ use the CDS to prompt for environment name (this will allow the automation of choosing the .yml file)
		_ for docker web apps this will be modified to do any merging of docker configurations
		
		
	
	
		
		
		
		
	_ document that the clone needs to be recursive and that the submodule pulls need to be recursive too	
		_ specifying stack will use secrets, specifying mount will use environment variables
		_ document the parameter for the build_deploy_project.sh

	_ update CODE
		_ update DSC CODE
			_ pull upstream changes into CUD
			_ pull upstream changes into CAS
	
	
	X fork DSC CODE so the dependencies are available
		

	X Dockerfile.deploy is not successfully converting line endings with dos2unix (there was an unreadable character that was preventing a file from being converted)

	convert to submodule:
		X PRI (update the custom prep script to not clone the php shared library and for the Dockerfile to copy it from the modules directory)
			X php shared library
			X Container Deployment Scripts


	_ CODE - convert DB dependencies to submodules
		_ DSC
			X DSC
		_ CAS
			_ DSC
			_ AAM
		_ CEN_UTILS
			_ centralized utilities
			_ DSC
		X PRI
			X PRI
			X DSC
			
	_ update fork diagram 
		_ include PRI (non-apex apps)
		_ include CUD
		
		
	_ delete the CODE repos off of GitLab (confirm they are in GitHub first)

	_ convert docker apps to implement submodules (PHP shared library and CDS)
		_ PLW
			_ implement as docker compose with CODE
		X PRI
			X implement as docker compose with CODE
		_ Staff Info App
			_ implement as docker compose with CODE
		
	_ CDS
		_ update installation instructions to recommend implementing as a submodule

	
	_ chain in a quick preparation script that renames certain files (GIM_crontab.dev.txt) or references certain files
		



git bash commands:

	# Dev:

		# stop and remove CODE containers and delete volumes
		cd /c/Users/jesse.abdul/Documents/Version\ Control/Git/PIFSC-PRI-Containerized-Oracle-Development-Environment
		
		# shutdown all containers and delete all associated volumes too
		docker compose \
		  --env-file ./docker/.env \
		  --env-file ./secrets/.env \
		  -f docker/CODE-db-deploy.yml \
		  -f docker/CODE-db-named-volume.yml \
		  -f modules/PRI/docker/docker-compose.yml \
		  -f docker/custom-docker-compose.yml \
		  down -v





		
		# build and deploy the development scenario of the CODE
		bash ./deployment_scripts/build_deploy_project.sh dev

		docker compose \
		  --env-file ./docker/.env \
		  --env-file ./secrets/.env \
		  -f docker/CODE-db-deploy.yml \
		  -f docker/CODE-db-named-volume.yml \
		  -f modules/PRI/docker/docker-compose.yml \
		  -f docker/custom-docker-compose.yml \
		  up -d --build



	# Test:

		# stop and remove CODE containers and delete volumes
		cd /c/Users/jesse.abdul/Documents/Version\ Control/Git/PIFSC-PRI-Containerized-Oracle-Development-Environment/deployment_scripts
		
		docker compose -f ../docker/docker-compose-test.yml down
		docker volume rm apex-static-vol

		# build and deploy the test scenario of the CODE
		docker-compose \
		  --project-directory . \
		  -f docker/docker-compose-test.yml \
		  -f pri_app_docker/docker-compose.yml \
		  down

troubleshooting tips: